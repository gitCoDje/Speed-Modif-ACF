<!DOCTYPE html>
<html lang="FR">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>Speed Modif ACF</title>

    <!-- Bootstrap css -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-LN+7fdVzj6u52u30Kp6M/trliBMCMKTyK833zpbD+pXdCLuTusPj697FH4R/5mcr"
      crossorigin="anonymous" />

    <!-- Bootstap icon -->
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.13.1/font/bootstrap-icons.min.css" />

    <!-- Google fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap"
      rel="stylesheet" />
    <link rel="stylesheet" href="./css/styles.css" type="text/css" />

    <meta name="author" content="coDje" />
    <meta
      name="description"
      content="Fast. Simple. Secure. Une application qui modifie rapidement les champs ACF existants." />
  </head>
  <body>
    <!-- Header avec logo -->
    <header class="py-4">
        <div class="container text-center">
            <div class="d-flex align-items-center justify-content-center gap-2 mb-2">
                <div class="logo-s">S</div>
                <span class="logo-speed">SPEED</span>
                <span class="logo-modif">MODIF</span>
                <span class="logo-acf">ACF</span>
            </div>
            <p class="text-muted small">Fast. Simple. Secure.</p>
        </div>
    </header>

    <!-- Main Content -->
    <main class="container">
        <div class="row justify-content-center">
            <div class="col-12 col-md-6 col-lg-4">
                <!-- Card de connexion -->
                <div class="card shadow">
                    <div class="card-header bg-primary text-white text-center">
                        <h1 class="h5 mb-0">
                            <i class="bi bi-shield-lock me-2"></i>
                            Connexion
                        </h1>
                    </div>
                    
                    <div class="card-body">
                        <!-- Message d'erreur -->
                        <div class="alert alert-danger d-none" id="errorMessage" role="alert">
                            <i class="bi bi-exclamation-triangle me-2"></i>
                            <span id="errorText">Identifiants incorrects.</span>
                        </div>

                        <!-- Formulaire -->
                        <form id="loginForm" method="POST" action="api/auth.php" novalidate>
                            <!-- Protection CSRF -->
                            <input type="hidden" name="csrf_token" id="csrfToken">
                            
                            <!-- Email -->
                            <div class="mb-3">
                                <label for="email" class="form-label">
                                    <i class="bi bi-envelope me-1"></i>
                                    Email
                                </label>
                                <input 
                                    type="email" 
                                    class="form-control" 
                                    id="email" 
                                    name="email"
                                    placeholder="votre@email.com"
                                    required
                                    autocomplete="email"
                                >
                                <div class="invalid-feedback">
                                    Email invalide.
                                </div>
                            </div>

                            <!-- Mot de passe -->
                            <div class="mb-3">
                                <label for="password" class="form-label">
                                    <i class="bi bi-key me-1"></i>
                                    Mot de passe
                                </label>
                                <input 
                                    type="password" 
                                    class="form-control" 
                                    id="password" 
                                    name="password"
                                    placeholder="Votre mot de passe"
                                    required
                                    autocomplete="current-password"
                                    minlength="8"
                                >
                                <div class="invalid-feedback">
                                    Mot de passe requis (8 caractères min).
                                </div>
                            </div>

                            <!-- Se souvenir -->
                            <div class="form-check mb-3">
                                <input class="form-check-input" type="checkbox" id="rememberMe" name="remember_me">
                                <label class="form-check-label" for="rememberMe">
                                    Se souvenir de moi
                                </label>
                            </div>

                            <!-- Bouton -->
                            <div class="d-grid mb-3">
                                <button type="submit" class="btn btn-primary" id="loginButton">
                                    <i class="bi bi-box-arrow-in-right me-2"></i>
                                    <span id="buttonText">Se connecter</span>
                                    <span class="spinner-border spinner-border-sm ms-2 d-none" id="loginSpinner"></span>
                                </button>
                            </div>

                            <!-- Lien -->
                            <div class="text-center">
                                <a href="#" class="text-decoration-none small">
                                    <i class="bi bi-question-circle me-1"></i>
                                    Mot de passe oublié ?
                                </a>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Footer -->
    <footer class="text-center py-3 mt-4">
        <small class="text-muted"><a class="footer-mentions me-1" href="#">Mentions légales</a> |
            <i class="bi bi-c-circle mx-1"></i>
            2025 - Speed Modif ACF
        </small>
    </footer>


    <!-- Bootstrap JS -->
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-ndDqU0Gzau9qJ1lfW4pNLlhNTkCfHzAVBReH9diLvGRem5+R9g2FzA8ZGN954O5Q"
      crossorigin="anonymous"></script>

    <!-- Custom JS -->
    <script src="js/auth.js"></script>
  </body>
</html>
